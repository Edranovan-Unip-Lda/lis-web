<div #form class="card">
    <span class="text-surface-900 dark:text-surface-0 text-2xl font-bold mb-6 block">
        Candidatura para o Pedido de Licenca para Exercicio de Atividade Comercial
    </span>

    <p-stepper [value]="1" class="basis-[50rem]">
        <p-step-list>
            <p-step [value]="1">Detalho da Aplicação</p-step>
            <p-step [value]="2">Pedido de Licenca</p-step>
            <p-step [value]="3">Fatura-Recibo Pedido de Licenca</p-step>
            <p-step [value]="4">Pedido de Vistoria</p-step>
            <p-step [value]="5">Fatura-Recibo Pedido de Vistoria</p-step>
            <p-step [value]="6">Auto de Vistoria</p-step>
            <!-- <p-step [value]="5">Fatura-Recibo Pedido de Vistoria</p-step> -->
            <!-- <p-step [value]="6">Auto de Vistoria</p-step> -->
        </p-step-list>
        <p-step-panels>
            <!-- Detalho Aplicacao -->
            <p-step-panel [value]="1">
                <ng-template #content let-activateCallback="activateCallback">
                    <div class="max-w-lg mx-auto px-8 font-sans">
                        <div class="flex justify-between items-center border-b border-gray-200 pb-4 mb-6">
                            <div>
                                <div class="text-gray-500 text-md">Nº da Candidatura:</div>
                                <div class="text-xl font-semibold tracking-wider text-gray-300">00323893</div>
                            </div>
                            <div>
                                <div class="text-gray-500 text-md">Certificado:</div>
                                <p-tag value="Pendente" [severity]="'warn'" />
                            </div>
                        </div>

                        <div class="flex justify-between text-sm text-gray-400 mb-8">
                            <div>
                                <span class="font-medium text-gray-500">Criado em:</span> 03 Oct 2025, 20:10
                            </div>
                            <div>
                                <span class="font-medium text-gray-500">Atualizado em:</span> 04 Oct 2025, 20:10
                            </div>
                        </div>

                        <div class="mb-8">
                            <div class="text-gray-500 font-semibold mb-2 tracking-wide text-base">Pedido de Licença
                            </div>
                            <div class="flex justify-between mb-1 text-gray-600">
                                <span>Formulário</span>
                                <p-tag value="Esboco" [severity]="'info'" />
                            </div>
                            <div class="flex justify-between text-gray-600">
                                <span>Fatura</span>
                                <p-tag value="Nao Pago" [severity]="'secondary'" />
                            </div>
                        </div>

                        <div class="mb-8">
                            <div class="text-gray-500 font-semibold mb-2 tracking-wide text-base">Pedido de Vistoria
                            </div>
                            <div class="flex justify-between mb-1 text-gray-600">
                                <span>Formulário</span>
                                <p-tag value="Esboco" [severity]="'info'" />
                            </div>
                            <div class="flex justify-between mb-1 text-gray-600">
                                <span>Fatura</span>
                                <p-tag value="Nao Pago" [severity]="'secondary'" />
                            </div>
                            <div class="flex justify-between text-gray-600">
                                <span>Auto de Vistoria</span>
                                <p-tag value="Agendado" [severity]="'warn'" />
                            </div>
                        </div>
                    </div>
                    <div class="flex pt-6 justify-end">
                        <p-button label="Continuar" icon="pi pi-arrow-right" iconPos="right"
                            (onClick)="activateCallback(2)" />
                    </div>
                </ng-template>
            </p-step-panel>

            <!-- Pedido de Licenca -->
            <p-step-panel [value]="2">
                <ng-template #content let-activateCallback="activateCallback">
                    <form [formGroup]="requestForm">
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            PEDIDO
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="application"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo
                                </label>
                                <p-select inputId="application" [options]="requestTypes" optionLabel="name" fluid
                                    filterBy="name" [showClear]="true" placeholder="Select a Pedido">
                                </p-select>
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="firma" class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Firma ou denominacao social
                                </label>
                                <input formControlName="firma" id="firma" type="text" pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="numeroRegistoComercial"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nº de Registo Comercial
                                </label>
                                <input formControlName="numeroRegistoComercial" id="numeroRegistoComercial" type="text"
                                    pInputText fluid />
                            </div>
                        </div>
                        <div formGroupName="sede">
                            <div class="grid grid-cols-12">
                                <div class="mb-6 col-span-12">
                                    <label for="rua"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Sede: Rua
                                    </label>
                                    <input formControlName="rua" id="rua" type="text" pInputText fluid />
                                </div>
                            </div>
                            <div class="flex flex-col md:flex-row gap-4 w-full">
                                <div class="mb-6 flex-1">
                                    <label for="municipio"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Municipio
                                    </label>
                                    <p-select formControlName="municipio" inputId="municipio" [options]="requestTypes"
                                        optionLabel="name" fluid filterBy="name" [showClear]="true"
                                        placeholder="Select a Pedido">
                                    </p-select>
                                </div>
                                <div class="mb-6 flex-1">
                                    <label for="postoAdministrativo"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Posto Administrativo
                                    </label>
                                    <p-select formControlName="postoAdministrativo" inputId="postoAdministrativo"
                                        [options]="requestTypes" optionLabel="name" fluid filterBy="name"
                                        [showClear]="true" placeholder="Select a Pedido">
                                    </p-select>
                                </div>
                                <div class="mb-6 flex-1">
                                    <label for="suco"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Suco
                                    </label>
                                    <p-select formControlName="suco" inputId="suco" [options]="requestTypes"
                                        optionLabel="name" fluid filterBy="name" [showClear]="true"
                                        placeholder="Select a Pedido">
                                    </p-select>
                                </div>
                                <div class="mb-6 flex-1">
                                    <label for="aldeia"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Aldeia
                                    </label>
                                    <p-select formControlName="aldeia" inputId="aldeia" [options]="requestTypes"
                                        optionLabel="name" fluid filterBy="name" [showClear]="true"
                                        placeholder="Select a Pedido">
                                    </p-select>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="tipoAtividade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo Atividade
                                </label>
                                <input formControlName="tipoAtividade" id="tipoAtividade" type="text" pInputText
                                    fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="nivelRisco"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nivel de Risco
                                </label>
                                <input formControlName="nivelRisco" id="nivelRisco" type="text" pInputText fluid />
                            </div>
                        </div>

                        <span class="text-xl font-bold mt-6 mb-3 block">
                            REPRESENTANTE
                        </span>
                        <div formGroupName="representante">
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12">
                                    <label for="nome"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome
                                    </label>
                                    <input formControlName="nome" id="nome" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nacionalidade"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nacionalidade
                                    </label>
                                    <input formControlName="nacionalidade" id="nacionalidade" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="naturalidade"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Naturalidade
                                    </label>
                                    <input formControlName="naturalidade" id="naturalidade" type="text" pInputText
                                        fluid />
                                </div>
                            </div>
                            <div formGroupName="morada">
                                <div class="grid grid-cols-12">
                                    <div class="mb-6 col-span-12">
                                        <label for="rua"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Morada
                                        </label>
                                        <input formControlName="rua" id="rua" type="text" pInputText fluid />
                                    </div>
                                </div>
                                <div class="flex flex-col md:flex-row gap-4 w-full">
                                    <div class="mb-6 flex-1">
                                        <label for="municipio"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Municipio
                                        </label>
                                        <p-select formControlName="municipio" inputId="municipio"
                                            [options]="requestTypes" optionLabel="name" fluid filterBy="name"
                                            [showClear]="true" placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="postoAdministrativo"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Posto Administrativo
                                        </label>
                                        <p-select formControlName="postoAdministrativo" inputId="postoAdministrativo"
                                            [options]="requestTypes" optionLabel="name" fluid filterBy="name"
                                            [showClear]="true" placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="suco"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Suco
                                        </label>
                                        <p-select formControlName="suco" inputId="suco" [options]="requestTypes"
                                            optionLabel="name" fluid filterBy="name" [showClear]="true"
                                            placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="aldeia"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Aldeia
                                        </label>
                                        <p-select formControlName="aldeia" inputId="aldeia" [options]="requestTypes"
                                            optionLabel="name" fluid filterBy="name" [showClear]="true"
                                            placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                </div>
                            </div>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="telefone"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Telefone
                                    </label>
                                    <input formControlName="telefone" id="telefone" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="email"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Email
                                    </label>
                                    <input formControlName="email" id="email" type="text" pInputText fluid />
                                </div>
                            </div>
                        </div>

                        <span class="text-xl font-bold mt-6 mb-3 block">
                            IDENTIFICACAO DO ADMINISTRADOR OU GERENTE
                        </span>
                        <div formGroupName="gerente">
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12">
                                    <label for="nome"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome
                                    </label>
                                    <input formControlName="nome" id="nome" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nacionalidade"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nacionalidade
                                    </label>
                                    <input formControlName="nacionalidade" id="nacionalidade" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="naturalidade"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Naturalidade
                                    </label>
                                    <input formControlName="naturalidade" id="naturalidade" type="text" pInputText
                                        fluid />
                                </div>
                            </div>
                            <div formGroupName="morada">
                                <div class="grid grid-cols-12">
                                    <div class="mb-6 col-span-12">
                                        <label for="rua"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Morada
                                        </label>
                                        <input formControlName="rua" id="rua" type="text" pInputText fluid />
                                    </div>
                                </div>
                                <div class="flex flex-col md:flex-row gap-4 w-full">
                                    <div class="mb-6 flex-1">
                                        <label for="municipio"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Municipio
                                        </label>
                                        <p-select formControlName="municipio" inputId="municipio"
                                            [options]="requestTypes" optionLabel="name" fluid filterBy="name"
                                            [showClear]="true" placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="postoAdministrativo"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Posto Administrativo
                                        </label>
                                        <p-select formControlName="postoAdministrativo" inputId="postoAdministrativo"
                                            [options]="requestTypes" optionLabel="name" fluid filterBy="name"
                                            [showClear]="true" placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="suco"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Suco
                                        </label>
                                        <p-select formControlName="suco" inputId="suco" [options]="requestTypes"
                                            optionLabel="name" fluid filterBy="name" [showClear]="true"
                                            placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                    <div class="mb-6 flex-1">
                                        <label for="aldeia"
                                            class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                            Aldeia
                                        </label>
                                        <p-select formControlName="aldeia" inputId="aldeia" [options]="requestTypes"
                                            optionLabel="name" fluid filterBy="name" [showClear]="true"
                                            placeholder="Select a Pedido">
                                        </p-select>
                                    </div>
                                </div>
                            </div>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="telefone"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Telefone
                                    </label>
                                    <input formControlName="telefone" id="telefone" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="email"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Email
                                    </label>
                                    <input formControlName="email" id="email" type="text" pInputText fluid />
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="numeroRegistoComercial"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Planta de Localizacao do Estabelecimento Comercial
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="planta" optionLabel="label"
                                    optionValue="value" />
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            DOCUMENTO COMPROVATIVO DE PROPRIEDADE, POSSE DE IMOVEL OU OUTRO CONTRATO DE ARRENDAMENTO
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-4">
                                <label for="documentoPropriedade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Documento comprovativo do direito de propriedade
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="documentoPropriedade"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-4">
                                <label for="documentoimovel"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Documento comprovativo de posse de imovel
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="documentoimovel"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-4">
                                <label for="contratoArrendamento"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Contrato de arrendamento
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="contratoArrendamento"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-4">
                                <label for="planoEmergencia"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    PLANO DE EMERGENCIA
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="planoEmergencia"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="estudoAmbiental"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    ESTUDO DE IMPACTO AMBIENTAL
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="estudoAmbiental"
                                    optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            Nº DE POSTOS DE EMPREGO CRIADOS OU A CRIAR
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="numEmpregosCriados"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nº de empregos ja criados
                                </label>
                                <input formControlName="numEmpregosCriados" id="numEmpregosCriados" type="number"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="numEmpregadosCriar"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nº de empregos a criar
                                </label>
                                <input formControlName="numEmpregadosCriar" id="numEmpregadosCriar" type="number"
                                    pInputText fluid />
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            COMPROVATIVO DO PAGAMENTO DA TAXA DE PEDIDO DE LICENCA
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <label for="reciboPagamento"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Recibo de pagamento da taxa de pedido de licenca
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="reciboPagamento"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="outrosDocumentos"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    OUTROS DOCUMENTOS
                                </label>
                                <textarea rows="8" cols="30" variant="outlined" pTextarea
                                    formControlName="outrosDocumentos" fluid></textarea>
                            </div>
                        </div>
                    </form>
                    <div class="flex pt-6 justify-between">
                        <p-button label="Back" severity="secondary" icon="pi pi-arrow-left"
                            (onClick)="activateCallback(1)" />
                        <p-button label="Guardar e Continuar" icon="pi pi-arrow-right" iconPos="right"
                            (onClick)="activateCallback(3)" />
                    </div>
                </ng-template>
            </p-step-panel>

            <!-- Fatura Pedido de Licenca -->
            <p-step-panel [value]="3">
                <ng-template #content let-activateCallback="activateCallback">
                    <form [formGroup]="faturaForm">
                        <div class="flex flex-col h-48">
                            <span class="text-xl font-bold mt-6 mb-3 block">
                                Emitir uma Fatura
                            </span>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12">
                                    <label for="ato"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Selecionar o Ato
                                    </label>
                                    <p-select inputId="ato" [options]="pedidoAto" optionLabel="name" fluid
                                        filterBy="name" [checkmark]="true" [showClear]="true" placeholder="Selecionar">
                                        <ng-template let-item #selectedItem>
                                            <div class="flex items-center gap-2">

                                                <div>{{ item.name }}</div>
                                                -
                                                <div> {{item.montante |currency }} </div>
                                            </div>
                                        </ng-template>
                                        <ng-template let-item #item>
                                            <div class="flex items-center gap-2">

                                                <div>{{ item.name }}</div>
                                                -
                                                <div> {{item.montante |currency }} </div>
                                            </div>
                                        </ng-template>
                                    </p-select>
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nomeRequerente"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome Requerente
                                    </label>
                                    <input formControlName="nomeRequerente" id="nomeRequerente" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="sociedadeComercial"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Sociedade Comercial
                                    </label>
                                    <input formControlName="sociedadeComercial" id="sociedadeComercial" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="atividadeDeclarada"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Atividade Industrial declarada
                                    </label>
                                    <input formControlName="atividadeDeclarada" id="atividadeDeclarada" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="codigo"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Codigo
                                    </label>
                                    <input formControlName="codigo" id="codigo" type="text" pInputText fluid />
                                </div>
                            </div>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-4 flex justify-between">
                                    <p-button label="Emitir Fatura" icon="pi pi-file" iconPos="left"
                                        class="w-auto mt-3" />
                                    <p-button label="Baixar Fatura" [outlined]="true" icon="pi pi-download"
                                        iconPos="left" class="w-auto mt-3" />
                                </div>
                            </div>

                            <span class="text-xl font-bold mt-6 mb-3 block">
                                Carregar Recibo
                            </span>
                            <div class="card">
                                <p-fileupload name="demo1[]" (onUpload)="onUpload($event, 'advanced')"
                                    [multiple]="false" accept="image/*" maxFileSize="1000000" mode="advanced"
                                    url="https://www.primefaces.org/cdn/api/upload.php">
                                    <ng-template #empty>
                                        Arraste e largue os ficheiros aqui para carregar.
                                    </ng-template>
                                    <ng-template #content>
                                        <ul *ngIf="uploadedFiles.length">
                                            <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }}
                                                bytes
                                            </li>
                                        </ul>
                                    </ng-template>
                                </p-fileupload>
                            </div>
                        </div>
                    </form>
                    <div class="flex pt-6 justify-between">
                        <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" iconPos="right"
                            (onClick)="activateCallback(2)" />
                        <p-button label="Guardar" icon="pi pi-save" iconPos="left" (onClick)="activateCallback(4)" />
                    </div>
                </ng-template>
            </p-step-panel>

            <!-- Pedido de Vistoria -->
            <p-step-panel [value]="4">
                <ng-template #content let-activateCallback="activateCallback">
                    <form [formGroup]="vistoriaComercialRequestForm">
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            PEDIDO
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="tipoPedido"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo
                                </label>
                                <p-select formControlName="tipoPedido" inputId="tipoPedido"
                                    [options]="tipoPedidoVistoriaOpts" optionLabel="name" fluid filterBy="name"
                                    [showClear]="true" placeholder="Select a Pedido">
                                </p-select>
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            IDENTIFICACAO DA EMPRESA
                        </span>
                        <div formGroupName="empresa">
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nome"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome da Empresa
                                    </label>
                                    <input formControlName="nome" id="nome" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="sede"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Sede
                                    </label>
                                    <input formControlName="sede" id="sede" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nif"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        NIF
                                    </label>
                                    <input formControlName="nif" id="nif" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="numeroRegisto"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nº Registo Comercial
                                    </label>
                                    <input formControlName="numeroRegisto" id="numeroRegisto" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="telemovel"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Telemovel
                                    </label>
                                    <input formControlName="telemovel" id="telemovel" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="telefone"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Telefone
                                    </label>
                                    <input formControlName="telefone" id="telefone" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="email"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Email
                                    </label>
                                    <input formControlName="email" id="email" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="gerente"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Gerente
                                    </label>
                                    <input formControlName="gerente" id="gerente" type="text" pInputText fluid />
                                </div>
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            IDENTIFICACAO DO ESTABELECIMENTO
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="nomeEstabelecimento"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nome do estabelecimento
                                </label>
                                <input formControlName="nomeEstabelecimento" id="nomeEstabelecimento" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="localEstabelecimento"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Local do estabelecimento
                                </label>
                                <input formControlName="localEstabelecimento" id="localEstabelecimento" type="text"
                                    pInputText fluid />
                            </div>
                        </div>

                        <span class="text-xl font-bold mt-6 mb-3 block">
                            CARATERIZACAO DO ESTABELECIMENTO
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="tipoEmpresa"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo de Empresa
                                </label>
                                <p-select formControlName="tipoEmpresa" inputId="tipoEmpresa"
                                    [options]="tipoEmpresaOpts" optionLabel="name" fluid filterBy="name"
                                    [showClear]="true" placeholder="Select a Pedido">
                                </p-select>
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="tipoEstabelecimento"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo de estabelecimento
                                </label>
                                <p-select formControlName="tipoEstabelecimento" inputId="tipoEstabelecimento"
                                    [options]="tipoEstabelecimentoOpts" optionLabel="name" fluid filterBy="name"
                                    [showClear]="true" placeholder="Select a Pedido">
                                </p-select>
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block">
                            CARATERIZACAO DA ATIVIDADE
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="nivelRisco"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nivel de Risco
                                </label>
                                <p-select formControlName="nivelRisco" inputId="nivelRisco" [options]="nivelRiscoOpts"
                                    optionLabel="name" fluid filterBy="name" [showClear]="true"
                                    placeholder="Select a Pedido">
                                </p-select>
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="atividade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Atividade
                                </label>
                                <p-select formControlName="atividade" inputId="atividade" [options]="atividadesOpts"
                                    optionLabel="name" fluid filterBy="name" [showClear]="true"
                                    placeholder="Select a Pedido">
                                </p-select>
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-7">
                                <label for="tipoAtividade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Tipo de atividade no estabelecimento
                                </label>
                                <input formControlName="tipoAtividade" id="tipoAtividade" type="text" pInputText
                                    fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-5">
                                <label for="codigoTipoAtividade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Codigo
                                </label>
                                <input formControlName="codigoTipoAtividade" id="codigoTipoAtividade" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-7">
                                <label for="codigoTipoAtividade"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Atividade principal exercida no estabelecimento
                                </label>
                                <input formControlName="codigoTipoAtividade" id="codigoTipoAtividade" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-5">
                                <label for="codigoAtividadePrincipal"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Codigo
                                </label>
                                <input formControlName="codigoAtividadePrincipal" id="codigoAtividadePrincipal"
                                    type="text" pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="alteracoes"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Alteracoes a averbar
                                </label>
                                <input formControlName="alteracoes" id="alteracoes" type="text" pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="observacao"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Observacao
                                </label>
                                <textarea rows="8" cols="30" variant="outlined" pTextarea formControlName="observacao"
                                    fluid></textarea>
                            </div>
                        </div>
                    </form>
                    <div class="flex pt-6 justify-between">
                        <p-button label="Back" severity="secondary" icon="pi pi-arrow-left"
                            (onClick)="activateCallback(3)" />
                        <p-button label="Guardar e Continuar" icon="pi pi-arrow-right" iconPos="right"
                            (onClick)="activateCallback(5)" />
                    </div>
                </ng-template>
            </p-step-panel>

            <!-- Fatura Pedido de Licenca -->
            <p-step-panel [value]="5">
                <ng-template #content let-activateCallback="activateCallback">
                    <form [formGroup]="faturaForm">
                        <div class="flex flex-col h-48">
                            <span class="text-xl font-bold mt-6 mb-3 block">
                                Emitir uma Fatura
                            </span>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12">
                                    <label for="ato"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Selecionar o Ato
                                    </label>
                                    <p-select inputId="ato" [options]="pedidoAto" optionLabel="name" fluid
                                        filterBy="name" [checkmark]="true" [showClear]="true" placeholder="Selecionar">
                                        <ng-template let-item #selectedItem>
                                            <div class="flex items-center gap-2">

                                                <div>{{ item.name }}</div>
                                                -
                                                <div> {{item.montante |currency }} </div>
                                            </div>
                                        </ng-template>
                                        <ng-template let-item #item>
                                            <div class="flex items-center gap-2">

                                                <div>{{ item.name }}</div>
                                                -
                                                <div> {{item.montante |currency }} </div>
                                            </div>
                                        </ng-template>
                                    </p-select>
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nomeRequerente"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome Requerente
                                    </label>
                                    <input formControlName="nomeRequerente" id="nomeRequerente" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="sociedadeComercial"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Sociedade Comercial
                                    </label>
                                    <input formControlName="sociedadeComercial" id="sociedadeComercial" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="atividadeDeclarada"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Atividade Industrial declarada
                                    </label>
                                    <input formControlName="atividadeDeclarada" id="atividadeDeclarada" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="codigo"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Codigo
                                    </label>
                                    <input formControlName="codigo" id="codigo" type="text" pInputText fluid />
                                </div>
                            </div>
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-4 flex justify-between">
                                    <p-button label="Emitir Fatura" icon="pi pi-file" iconPos="left"
                                        class="w-auto mt-3" />
                                    <p-button label="Baixar Fatura" [outlined]="true" icon="pi pi-download"
                                        iconPos="left" class="w-auto mt-3" />
                                </div>
                            </div>

                            <span class="text-xl font-bold mt-6 mb-3 block">
                                Carregar Recibo
                            </span>
                            <div class="card">
                                <p-fileupload name="demo1[]" (onUpload)="onUpload($event, 'advanced')"
                                    [multiple]="false" accept="image/*" maxFileSize="1000000" mode="advanced"
                                    url="https://www.primefaces.org/cdn/api/upload.php">
                                    <ng-template #empty>
                                        Arraste e largue os ficheiros aqui para carregar.
                                    </ng-template>
                                    <ng-template #content>
                                        <ul *ngIf="uploadedFiles.length">
                                            <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }}
                                                bytes
                                            </li>
                                        </ul>
                                    </ng-template>
                                </p-fileupload>
                            </div>
                        </div>
                    </form>
                    <div class="flex pt-6 justify-between">
                        <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" iconPos="right"
                            (onClick)="activateCallback(4)" />
                        <p-button label="Guardar" icon="pi pi-save" iconPos="left" (onClick)="activateCallback(6)" />
                    </div>
                </ng-template>
            </p-step-panel>

            <p-step-panel [value]="6">
                <ng-template #content let-activateCallback="activateCallback">
                    <form [formGroup]="autoVistoriaForm">
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <label for="numeroProcesso"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Nº Processo
                                </label>
                                <input formControlName="numeroProcesso" id="numeroProcesso" type="text" pInputText
                                    fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="dataHora"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Data e Hora
                                </label>
                                <p-datepicker formControlName="dataHora" [showTime]="true" appendTo="body" fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="local" class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Local
                                </label>
                                <input formControlName="local" id="local" type="text" pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12 md:col-span-6">
                                <label for="funcionario"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Funcionario que elabora
                                </label>
                                <input formControlName="funcionario" id="funcionario" type="text" pInputText fluid />
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block text-center">
                            REQUERENTE
                        </span>
                        <div formGroupName="requerente">
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="denominacaoSocial"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Denominacao Social
                                    </label>
                                    <input formControlName="denominacaoSocial" id="denominacaoSocial" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="numeroRegisto"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nº de Registo Comercial
                                    </label>
                                    <input formControlName="numeroRegisto" id="numeroRegisto" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="sede"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Sede
                                    </label>
                                    <input formControlName="sede" id="sede" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nif"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        NIF
                                    </label>
                                    <input formControlName="nif" id="nif" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="gerente"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Gerente
                                    </label>
                                    <input formControlName="gerente" id="gerente" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="telefone"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Telefone
                                    </label>
                                    <input formControlName="telefone" id="telefone" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="email"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Email
                                    </label>
                                    <input formControlName="email" id="email" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="classificacaoAtividade"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Classificacao Atividade
                                    </label>
                                    <input formControlName="classificacaoAtividade" id="classificacaoAtividade"
                                        type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="nomeRepresentante"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Nome Representante
                                    </label>
                                    <input formControlName="nomeRepresentante" id="nomeRepresentante" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="pai"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Pai
                                    </label>
                                    <input formControlName="pai" id="pai" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="mae"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Mae
                                    </label>
                                    <input formControlName="mae" id="mae" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="dataNascimento"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Data Nascimento
                                    </label>
                                    <input formControlName="dataNascimento" id="dataNascimento" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="estadoCivil"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Estado Civil
                                    </label>
                                    <input formControlName="estadoCivil" id="estadoCivil" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="natural"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Natural de
                                    </label>
                                    <input formControlName="natural" id="natural" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="postoAdministrativo"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Posto Administrativo
                                    </label>
                                    <input formControlName="postoAdministrativo" id="postoAdministrativo" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="municipio"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Municipio
                                    </label>
                                    <input formControlName="municipio" id="municipio" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="documentacaoIdentificacao"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Documento de Identificacao nº
                                    </label>
                                    <input formControlName="documentacaoIdentificacao" id="documentacaoIdentificacao"
                                        type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-6">
                                    <label for="residencia"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Residencia
                                    </label>
                                    <input formControlName="residencia" id="residencia" type="text" pInputText fluid />
                                </div>
                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block text-center">
                            PARTICIPANTES
                        </span>
                        <div formGroupName="participantes">
                            <div class="grid grid-cols-12 gap-4">
                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="representanteComercio"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Representante do departamento govermental responsavel pela area do Comercio, que
                                        preside a vistoria
                                    </label>
                                    <input formControlName="representanteComercio" id="representanteComercio"
                                        type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="cargoComercio"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Cargo
                                    </label>
                                    <input formControlName="cargoComercio" id="cargoComercio" type="text" pInputText
                                        fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="representanteAutoridadeLocal"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Representante da autoridade administrativa local
                                    </label>
                                    <input formControlName="representanteAutoridadeLocal"
                                        id="representanteAutoridadeLocal" type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="cargoAutoridadeLocal"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Cargo
                                    </label>
                                    <input formControlName="cargoAutoridadeLocal" id="cargoAutoridadeLocal" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="representanteSaude"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Representante do orgao local da saude
                                    </label>
                                    <input formControlName="representanteSaude" id="representanteSaude" type="text"
                                        pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="cargoSaude"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Cargo
                                    </label>
                                    <input formControlName="cargoSaude" id="cargoSaude" type="text" pInputText fluid />
                                </div>

                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="representanteTrabalho"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Representante da entidade com competencias inspetivas do departamento
                                        govermental responsavel pela area do Trabalho
                                    </label>
                                    <input formControlName="representanteTrabalho" id="representanteTrabalho"
                                        type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="cargoTrabalho"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Cargo
                                    </label>
                                    <input formControlName="cargoTrabalho" id="cargoTrabalho" type="text" pInputText
                                        fluid />
                                </div>

                                <div class="mb-6 col-span-12 md:col-span-7">
                                    <label for="representanteBombeiros"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Representante do servico de bombeiros
                                    </label>
                                    <input formControlName="representanteBombeiros" id="representanteBombeiros"
                                        type="text" pInputText fluid />
                                </div>
                                <div class="mb-6 col-span-12 md:col-span-5">
                                    <label for="cargoBombeiros"
                                        class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                        Cargo
                                    </label>
                                    <input formControlName="cargoBombeiros" id="cargoBombeiros" type="text" pInputText
                                        fluid />
                                </div>

                            </div>
                        </div>
                        <span class="text-xl font-bold mt-6 mb-3 block text-center">
                            DILIGENCIA DE VISTORIA
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <p class="mb-6 leading-relaxed">
                                    Na data, hora e local acima referidos, F (<span class="font-italic">nome do
                                        atuante</span>)
                                    <input formControlName="nomeAtuante" id="funcionario" type="text" pInputText
                                        variant="filled" placeholder="Digite o nome do atuante" />
                                    ,
                                    estando presentes os demais participantes acima indicados, dei início à vistoria
                                    prevista no artigo 12.º do Decreto-Lei n.º 89/2023, de 20 de dezembro, exigida para
                                    efeitos de emissão da licença destinada ao exercício da atividade comercial.
                                </p>
                            </div>
                        </div>
                        <p class="mb-6 leading-relaxed">
                            O ato de vistoria incidiu sobre as condicoes tecnicas e sanitarias dos estabelecimentos
                            comerciais, confirme o Anexo IV do diploma mencionado, a saber
                        </p>
                        <span class="text-lg font-bold mt-6 mb-3 block">
                            I - Escolha do local de implantacao
                        </span>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12 md:col-span-8">
                                <label for="legislacaoUrbanistica"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    1. A escolha do local deve staisfazer as exigencias da legislacao urbanistica, tendo
                                    em
                                    conta especialmente os planos urbanisticos existentes ou as indicacoes dadas pelas
                                    autoridades locais competentes
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="legislacaoUrbanistica"
                                    optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <span class="text-md font-bold mt-6 mb-3 block">
                            2. O terreno escholhido tendo em conta as facilidades:
                        </span>
                        <div class="grid grid-cols-12 gap-4 pl-4">
                            <div class="mb-6 col-span-12">
                                <label for="accessoEstrada"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    a) De acesso por estrada:
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="accessoEstrada"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="escoamentoAguas"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    b) De escoamento de aguas residuais, as quais devem obedecer a regulamentacao
                                    adotada
                                    ou a adotar relativa ao sanemento publico
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="escoamentoAguas"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="alimentacaoEnergia"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    c) De execucao de um ramal de alimentacao de energia eletrica em media tensao (alta
                                    tensao)
                                </label>
                                <p-selectbutton [options]="stateOptions" formControlName="alimentacaoEnergia"
                                    optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <span class="text-lg font-bold mt-6 mb-3 block">
                            II - Instalacoes
                        </span>
                        <span class="text-md font-bold mt-6 mb-3 block">
                            1.&nbsp;&nbsp;Obrigatorias:
                        </span>
                        <span class="text-md font-bold mt-6 mb-3 block">
                            a)&nbsp;&nbsp;Instalacoes sanitarias de utilizacao comum dotadas de agua corrente
                        </span>
                        <div class="grid grid-cols-12 gap-4 pl-4">
                            <div class="mb-6 col-span-12">
                                <label for="seperadosSexo"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    i.&nbsp;&nbsp; Separados por sexo
                                </label>
                                <p-selectbutton [options]="stateOptions" id="seperadosSexo"
                                    formControlName="seperadosSexo" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="lavatoriosComEspelho"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    ii.&nbsp;&nbsp; Dispor de lavatorios com espelho:
                                </label>
                                <p-selectbutton [options]="stateOptions" id="lavatoriosComEspelho"
                                    formControlName="lavatoriosComEspelho" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="comunicacaoVentilacao"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    iii.&nbsp;&nbsp;Comunicacao direta para o exterior ou serem adotadas de dispositivos
                                    ventilacao
                                    artificial com continua renovacao do ar adequados a sua dimensao:
                                </label>
                                <p-selectbutton [options]="stateOptions" id="comunicacaoVentilacao"
                                    formControlName="comunicacaoVentilacao" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="esgotoAguas"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    iv.&nbsp;&nbsp; Ligadas a uma rede interna de esgotos que conduzzam as aguas
                                    residuais a sistemas
                                    adequados ao seu escoamento, nomeadamente atraves da rede publica ou, se esta nao
                                    existir, de um sistema de recolha e tratamento adequado ao volume e natureza dessas
                                    aguas:
                                </label>
                                <p-selectbutton [options]="stateOptions" id="esgotoAguas" formControlName="esgotoAguas"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="paredesPavimentos"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    vi.&nbsp;&nbsp; As paredes, pavimentos e tetos das instalacoes sanitarias devem ser
                                    revestidas de
                                    materiais resistentes, impermeaveis, nao inflamaveis e de facil limpeza:
                                </label>
                                <p-selectbutton [options]="stateOptions" id="paredesPavimentos"
                                    formControlName="paredesPavimentos" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="zonasDestinadas"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    vii.&nbsp;&nbsp;Nao podem situar-se junto das zonas destinadas a preparar e cozinhar
                                    alimentos ou a
                                    tomar refeicoes
                                </label>
                                <p-selectbutton [options]="stateOptions" id="zonasDestinadas"
                                    formControlName="zonasDestinadas" optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <label for="instalacoesFrigorificas"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    b)&nbsp;&nbsp;Instalacoes sanitarias de utilizacao comum dotadas de agua corrente
                                </label>
                                <p-selectbutton [options]="stateOptions" id="instalacoesFrigorificas"
                                    formControlName="instalacoesFrigorificas" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="sectoresLimpos"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    c)&nbsp;&nbsp;Separação de sectores limpos e sujos
                                </label>
                                <p-selectbutton [options]="stateOptions" id="sectoresLimpos"
                                    formControlName="sectoresLimpos" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="pisosParedes"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    d)&nbsp;&nbsp;Pisos e paredes - os edifícios devem ser providos de dispositivos de
                                    proteção
                                    contra insetos e roedores e
                                    concebidos de modo a permitir uma aplicação fácil das normas de higienização, e para
                                    esse efeito
                                </label>
                                <p-selectbutton [options]="stateOptions" id="pisosParedes"
                                    formControlName="pisosParedes" optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4 pl-4">
                            <div class="mb-6 col-span-12">
                                <label for="pisosResistentes"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    i.&nbsp;&nbsp;Os pisos devem ser resistentes, perfeitamente estanques,
                                    antiderrapantes e
                                    com inclinações da ordem
                                    dos 3 % e rede de esgotos apropriada para escoamento de líquido
                                </label>
                                <p-selectbutton [options]="stateOptions" id="pisosResistentes"
                                    formControlName="pisosResistentes" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="paredesInteriores"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    ii.&nbsp;&nbsp;As paredes interiores e o piso devem possuir um revestimento lavável;
                                </label>
                                <p-selectbutton [options]="stateOptions" id="paredesInteriores"
                                    formControlName="paredesInteriores" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="paredes3metros"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    iii.&nbsp;&nbsp;As paredes vem possuir até 3 metros de altura e um revestimento
                                    resistente
                                    ao choque, impermeáveis,
                                    liso e imputrescível
                                </label>
                                <p-selectbutton [options]="stateOptions" id="paredes3metros"
                                    formControlName="paredes3metros" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="unioesParedes"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    iv.&nbsp;&nbsp;As uniões das paredes com os tetos e os pisos devem ser
                                    arredondadas.
                                </label>
                                <p-selectbutton [options]="stateOptions" id="unioesParedes"
                                    formControlName="unioesParedes" optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <label for="ventilacoesNecessarias"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    e)&nbsp;&nbsp;Em todos os locais deve ser assegurada a ventilação necessária
                                </label>
                                <p-selectbutton [options]="stateOptions" id="ventilacoesNecessarias"
                                    formControlName="ventilacoesNecessarias" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="iluminacao"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    f)&nbsp;&nbsp;A iluminação, natural ou artificial, deve ser adequada às
                                    características de cada local
                                </label>
                                <p-selectbutton [options]="stateOptions" id="iluminacao" formControlName="iluminacao"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="aguaPotavel"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    g)&nbsp;&nbsp;O estabelecimento deve ser provido de uma rede de água potável sob
                                    pressão, fria e/ou quente, em
                                    quantidade suficiente para cobrir as suas necessidades
                                </label>
                                <p-selectbutton [options]="stateOptions" id="aguaPotavel" formControlName="aguaPotavel"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="distribuicaoAguaNaoPotavel"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    h)&nbsp;&nbsp;A rede de distribuição de águas deve ter o número necessário de
                                    dispositivos de saída de água para
                                    assegurar a limpeza e lavagem em todas as suas atividades, incluindo a higiene do
                                    pessoal
                                </label>
                                <p-selectbutton [options]="stateOptions" id="distribuicaoAguaNaoPotavel"
                                    formControlName="distribuicaoAguaNaoPotavel" optionLabel="label"
                                    optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="redeEsgotos"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    i)&nbsp;&nbsp;Pode existir uma rede de distribuição, devidamente sinalizada, de água
                                    não potável para geradores de
                                    vapor, instalações comerciais frigoríficas, bocas de incêndio, jardinagem e outros
                                    serviços auxiliares, desde
                                    que não haja comunicação entre esta e a de água potável
                                </label>
                                <p-selectbutton [options]="stateOptions" id="redeEsgotos" formControlName="redeEsgotos"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="redeEsgotos"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    j)&nbsp;&nbsp;A rede de esgotos, fossas ou tanques sépticos tem de permitir a fácil
                                    observação, limpeza e desinfeção e
                                    possuir válvulas sifonadas grelhas de proteção e caixas de recolha de gorduras;
                                </label>
                                <p-selectbutton [options]="stateOptions" id="redeEsgotos" formControlName="redeEsgotos"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="equipamentoUtensilios"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    k)&nbsp;&nbsp;Todo o equipamento e utensílios devem ser em material inalterável e de
                                    fácil limpeza e desinfeção.
                                </label>
                                <p-selectbutton [options]="stateOptions" id="equipamentoUtensilios"
                                    formControlName="equipamentoUtensilios" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="equipamentoPrimeirosSocorros"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    l)&nbsp;&nbsp;Equipados com equipamento de primeiros socorros
                                </label>
                                <p-selectbutton [options]="stateOptions" id="equipamentoPrimeirosSocorros"
                                    formControlName="equipamentoPrimeirosSocorros" optionLabel="label"
                                    optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="recipientesLixo"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    m)&nbsp;&nbsp;Dispor de recipientes para o lixo, com tampa, colocados em locais de
                                    fácil acesso e devidamente
                                    sinalizados.
                                </label>
                                <p-selectbutton [options]="stateOptions" id="recipientesLixo"
                                    formControlName="recipientesLixo" optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="limpezaDiaria"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    n)&nbsp;&nbsp;A limpeza e desinfeção diária dos contentores é obrigatória e o lixo e
                                    demais resíduos devem ser
                                    removidos diariamente para local adequado de forma a serem transportados pelos
                                    serviços públicos de
                                    recolha de lixo:
                                </label>
                                <p-selectbutton [options]="stateOptions" id="limpezaDiaria"
                                    formControlName="limpezaDiaria" optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <div class="mb-12 col-span-12">
                            <label for="descreverIrregularidades"
                                class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                Verificou-se que (descrever as irregularidades e/ou omissões)
                            </label>
                            <textarea id="descreverIrregularidades" rows="5" cols="30" variant="outlined" pTextarea
                                formControlName="descreverIrregularidades" fluid></textarea>
                        </div>
                        <span class="text-xl font-bold mb-3 block text-center">
                            CONCLUSÃO
                        </span>
                        <span class="text-md font-bold mt-6 mb-3 block">
                            A Equipa de Vistoria, deliberando, considera o estabelecimento comercial:
                        </span>
                        <div class="grid grid-cols-12 gap-4 mb-12">
                            <div class="mb-6 col-span-12">
                                <label for="aptoAberto"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Apto para ser aberto ao público
                                </label>
                                <p-selectbutton [options]="stateOptions" id="aptoAberto" formControlName="aptoAberto"
                                    optionLabel="label" optionValue="value" />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="comDeficiencias"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Com deficiências e recomendou a sua superação
                                </label>
                                <p-selectbutton [options]="stateOptions" id="comDeficiencias"
                                    formControlName="comDeficiencias" optionLabel="label" optionValue="value" />
                            </div>
                        </div>
                        <span class="text-xl font-bold mb-3 block text-center">
                            (CASO APLICAVEL)
                        </span>
                        <div class="grid grid-cols-12 gap-4 mb-12">
                            <div class="mb-12 col-span-12">
                                <label for="recomendacoes"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Face à(s) irregularidade(s) e omissão(ões) detetadas, tendo em vista o seu
                                    suprimento, foram emitidas as
                                    seguintes recomendações:
                                </label>
                                <textarea id="recomendacoes" rows="5" cols="30" variant="outlined" pTextarea
                                    formControlName="recomendacoes" fluid></textarea>
                            </div>
                        </div>
                        <div class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <p class="leading-relaxed">
                                    Considerando a complexidade das deficiências a regularizar é concedido o prazo de
                                    <input formControlName="prazo" id="prazo" type="text" pInputText variant="filled"
                                        placeholder="Digite o prazo" />
                                    dias, a fim
                                    do requerente proceder, querendo, à sua regularização.
                                </p>
                                <p class="leading-relaxed">
                                    A não observação das recomendações apresentadas importa, em consequência, o
                                    indeferimento do requerido no processo.
                                </p>
                                <p class="leading-relaxed">
                                    Neste ato o requerente foi notificado que, decorrido o prazo concedido sem que as
                                    deficiências e/ou omissões
                                    tenham sido corrigidas ou supridas, o pedido de licenciamento é indeferido, sem
                                    direito a qualquer reembolso
                                    pelo pagamento de taxas ou impressos.
                                </p>
                            </div>
                        </div>
                        <span class="text-xl font-bold mb-3 block text-center">
                            PROVAS
                        </span>
                        <div class="card">
                            <span class="text-md font-bold block">
                                DOCUMENTAL
                            </span>
                            <p-fileupload name="demo1[]" (onUpload)="onUpload($event, 'advanced')" [multiple]="false"
                                accept="image/*" maxFileSize="1000000" mode="advanced"
                                url="https://www.primefaces.org/cdn/api/upload.php">
                                <ng-template #empty>
                                    Arraste e largue os ficheiros aqui para carregar.
                                </ng-template>
                                <ng-template #content>
                                    <ul *ngIf="uploadedFiles.length">
                                        <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }}
                                            bytes
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileupload>
                        </div>
                        <div class="card">
                            <span class="text-md font-bold block">
                                OUTRAS
                            </span>
                            <p-fileupload name="demo1[]" (onUpload)="onUpload($event, 'advanced')" [multiple]="false"
                                accept="image/*" maxFileSize="1000000" mode="advanced"
                                url="https://www.primefaces.org/cdn/api/upload.php">
                                <ng-template #empty>
                                    Arraste e largue os ficheiros aqui para carregar.
                                </ng-template>
                                <ng-template #content>
                                    <ul *ngIf="uploadedFiles.length">
                                        <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }}
                                            bytes
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileupload>
                        </div>
                        <span class="text-xl font-bold mb-3 block text-center">
                            FECHO DO AUTO
                        </span>
                        <div formGroupName="membrosEquipaVistoria" class="grid grid-cols-12 gap-4">
                            <div class="mb-6 col-span-12">
                                <label for="representanteComercio"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Representante do departamento governamental responsável pela área do comércio
                                </label>
                                <input formControlName="representanteComercio" id="representanteComercio" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="representanteAutoridadeLocal"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Representante da autoridade administrativa local
                                </label>
                                <input formControlName="representanteAutoridadeLocal" id="representanteAutoridadeLocal"
                                    type="text" pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="representanteSaude"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Representante do órgão local da saúde
                                </label>
                                <input formControlName="representanteSaude" id="representanteSaude" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="representanteTrabalho"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Representante da entidade com competências inspetivas do departamento governamental
                                    responsável pela área do trabalho
                                </label>
                                <input formControlName="representanteTrabalho" id="representanteTrabalho" type="text"
                                    pInputText fluid />
                            </div>
                            <div class="mb-6 col-span-12">
                                <label for="representanteBombeiros"
                                    class="font-medium text-surface-900 dark:text-surface-0 mb-2 block">
                                    Representante do serviço de bombeiros
                                </label>
                                <input formControlName="representanteBombeiros" id="representanteBombeiros" type="text"
                                    pInputText fluid />
                            </div>
                        </div>
                    </form>
                    <div class="flex pt-6 justify-between">
                        <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" iconPos="right"
                            (onClick)="activateCallback(5)" />
                        <p-button label="Guardar" icon="pi pi-save" iconPos="left" (onClick)="activateCallback(1)" />
                    </div>
                </ng-template>
            </p-step-panel>

        </p-step-panels>
    </p-stepper>
</div>