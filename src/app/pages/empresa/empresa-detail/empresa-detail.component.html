@if (empresa) {
<div class="flex flex-col md:flex-row items-start md:items-center justify-between mb-10">
    <div class="flex items-center mb-4 md:mb-0">
        <div class="bg-gray-800 p-3 rounded-xl mr-4">
            <span class="material-symbols-outlined "></span>
            <i class="bi bi-buildings text-emerald-400 text-3xl"></i>
        </div>
        <div>
            <h1 class="text-3xl font-bold text-white">
                {{empresa.nome}}
            </h1>
        </div>
    </div>
    <div class="flex items-center space-x-3">
        <button routerLink="/empresa/{{empresa.utilizador.username}}"
            class="flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 hover:cursor-pointer">
            <i class="bi bi-pencil mr-2"></i>
            Edit
        </button>
        <!-- <button
            class="flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 hover:cursor-pointer">
            <i class="bi bi-printer mr-2"></i>
            Print
        </button> -->
    </div>
</div>
<main>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-2">
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg mb-8">
                <div class="flex items-center mb-6">
                    <i class="bi bi-info-circle text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">Informações da Empresa</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nome da Empresa</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.nome}} {{empresa.sociedadeComercial.nome}}
                        </p>
                    </div>
                    <!-- <div>
                        <p class="text-sm text-gray-400 font-medium">Tipo Propetário</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.tipoPropriedade}}
                        </p>
                    </div> -->
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Dimensão</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.tipoEmpresa.replace('_',' ')}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nº TIN (NIF)</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.nif}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nº Registo Comercial</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.numeroRegistoComercial}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Data Registo</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.dataRegisto | date: 'dd MMM yyyy'}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Sociedade Comercial</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.sociedadeComercial.nome}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">
                            Total Trabalhadores
                        </p>
                        <p class="text-lg text-gray-100">
                            {{empresa.totalTrabalhadores}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">
                            Volume de Negócios Anual
                        </p>
                        <p class="text-lg text-gray-100">
                            {{empresa.volumeNegocioAnual | currency}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">
                            Balanço total Anual
                        </p>
                        <p class="text-lg text-gray-100">
                            {{empresa.balancoTotalAnual |currency}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Endereço</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.sede.local}} <br>
                            {{empresa.sede.aldeia.nome}},
                            {{empresa.sede.aldeia.suco.nome}},
                            {{empresa.sede.aldeia.suco.postoAdministrativo.nome}},
                            {{empresa.sede.aldeia.suco.postoAdministrativo.municipio.nome}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Longitude - Latitude</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.longitude}} - {{empresa.latitude}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Telefone/Telemóvel</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.telefone}} / {{empresa.telemovel}}
                        </p>
                    </div>
                </div>
            </section>
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg mb-8">
                <div class="flex items-center mb-6">
                    <i class="bi bi-person-gear text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">Gerente</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nome</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.gerente.nome}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Telefone</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.gerente.telefone}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Email</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.gerente.email}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Documento de Identificaçåo</p>
                        <p class="text-lg text-gray-100">{{empresa.gerente.tipoDocumento.replace('_',' ')|titlecase}} –
                            {{empresa.gerente.numeroDocumento}}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Endereço</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.gerente.morada.local}} <br>
                            {{empresa.gerente.morada.aldeia.nome}},
                            {{empresa.gerente.morada.aldeia.suco.nome}},
                            {{empresa.gerente.morada.aldeia.suco.postoAdministrativo.nome}},
                            {{empresa.gerente.morada.aldeia.suco.postoAdministrativo.municipio.nome}}
                        </p>
                    </div>
                </div>
            </section>
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg mb-8">
                <div class="flex items-center mb-6">
                    <i class="bi bi-person-badge text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">Representante</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nome</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.nome}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Pai</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.pai}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Mãe</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.mae}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Data de Nascimento</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.dataNascimento | date: 'dd MMM yyyy'}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Estado Civil</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.estadoCivil}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Nacionalidade</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.nacionalidade}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Naturalidade</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.naturalidade}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Telefone</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.telefone}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Email</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.email}}
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Documento de Identificaçåo</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.tipoDocumento.replace('_',' ')|titlecase}} –
                            {{empresa.representante.numeroDocumento}}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 font-medium">Endereço</p>
                        <p class="text-lg text-gray-100">
                            {{empresa.representante.morada.local}} <br>
                            {{empresa.representante.morada.aldeia.nome}},
                            {{empresa.representante.morada.aldeia.suco.nome}},
                            {{empresa.representante.morada.aldeia.suco.postoAdministrativo.nome}},
                            {{empresa.representante.morada.aldeia.suco.postoAdministrativo.municipio.nome}}
                        </p>
                    </div>
                </div>
            </section>
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg">
                <div class="flex items-center mb-6">
                    <i class="bi bi-people text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">Acionista(s)</h2>
                </div>
                <div>
                    @for (item of empresa.acionistas; track $index) {
                    <div class="border-b border-gray-700 pb-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-300 mb-4">
                            {{item.nome}}
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                            <div>
                                <p class="text-sm text-gray-400 font-medium">Nª TIN (NIF)</p>
                                <p class="text-lg text-gray-100">
                                    {{item.nif}}
                                </p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">Documento de Identificaçåo</p>
                                <p class="text-lg text-gray-100">{{item.tipoDocumento.replace('_',' ')|titlecase}} –
                                    {{item.numeroDocumento}}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">Ações</p>
                                <p class="text-lg text-gray-100">
                                    {{item.acoes}} %
                                </p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">Email</p>
                                <p class="text-lg text-gray-100">
                                    {{item.email}}
                                </p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">
                                    Agregado Família
                                </p>
                                <p class="text-lg text-gray-100">
                                    {{item.agregadoFamilia}}
                                </p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">
                                    Relação Família
                                </p>
                                <p class="text-lg text-gray-100">
                                    {{item.relacaoFamilia}}
                                </p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400 font-medium">Endereço</p>
                                <p class="text-lg text-gray-100">
                                    {{item.endereco.local}} <br>
                                    {{item.endereco.aldeia.nome}},
                                    {{item.endereco.aldeia.suco.nome}},
                                    {{item.endereco.aldeia.suco.postoAdministrativo.nome}},
                                    {{item.endereco.aldeia.suco.postoAdministrativo.municipio.nome}}
                                </p>
                            </div>
                        </div>
                    </div>
                    }
                </div>
            </section>
        </div>
        <div class="lg:col-span-1 space-y-8">
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg">
                <div class="flex items-center mb-6">
                    <i class="bi bi-bank text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">
                        Capital Social
                    </h2>
                </div>
                <div class="space-y-4">
                    <div>
                        <p class="text-2xl font-bold text-white">
                            {{empresa.capitalSocial | currency}}
                        </p>
                    </div>
                </div>
            </section>
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg">
                <div class="flex items-center mb-6">
                    <i class="bi bi-folder2-open text-emerald-400 text-3xl mr-3"></i>
                    <h2 class="text-2xl font-semibold text-gray-200">Documentos</h2>
                </div>
                <ul class="space-y-3">
                    @for (doc of empresa.documentos; track $index) {
                    <li class="flex items-center justify-between bg-gray-700/50 p-3 rounded-lg">
                        <div class="flex items-center">
                            <i class="bi bi-file-text text-gray-400 mr-3"></i>
                            <span class="text-gray-200">
                                {{doc.nome}}
                            </span>
                        </div>
                        <p-button class="text-emerald-400 hover:text-emerald-300" (click)="downloadDoc(doc)"
                            [loading]="loadingDownloadButtons.has(doc.nome)" icon="pi pi-download" [rounded]="true"
                            [text]="true" severity="success" />
                    </li>
                    }
                </ul>
            </section>
        </div>
    </div>
</main>
}